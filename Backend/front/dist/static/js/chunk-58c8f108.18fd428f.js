(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58c8f108"],{"4e03":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("b775");function a(e){return Object(i["a"])({url:"/servicios",method:"get",params:{dependencia:e}})}},"5b64":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return l}));var i=r("b775");function a(e){return Object(i["a"])({url:"/procesos",method:"get",params:{dependencia:e}})}function o(e){return Object(i["a"])({url:"/proceso/detalle",method:"get",params:{idproceso:e}})}function n(e){return Object(i["a"])({url:"/procesos",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/procesos/usuarioupdate",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/procesos/update",method:"put",data:e})}function l(e){return Object(i["a"])({url:"/procesos",method:"delete",params:{idProceso:e}})}},"5c8b":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"createPost-container",staticStyle:{background:"#f7fbff",height:"87vh"}},[r("sticky",{attrs:{"class-name":"sub-navbar"}},[r("div",{staticStyle:{border:"0px solid red","text-align":"center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showOnlyAdmin,expression:"showOnlyAdmin"}]},[r("transition",{attrs:{name:"el-zoom-in-bottom"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[r("el-button",{staticStyle:{border:"1px solid #67c23a"},attrs:{size:"medium",icon:"el-icon-circle-plus",round:""},on:{click:function(t){e.clickAgregar(),e.msgAgregarVisible=!0}}},[e._v("Agregar expediente")])],1)])],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showOnlyAdmin,expression:"!showOnlyAdmin"}],staticStyle:{"text-align":"center",color:"white"}},[r("label",{staticStyle:{"font-size":"x-large"}},[e._v(e._s(e.usuario))])])])]),e._v(" "),r("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.msgAgregarVisible,"before-close":e.closeModalAgregar,width:"36em","custom-class":"dialog-class-lista","show-close":!1},on:{"update:visible":function(t){e.msgAgregarVisible=t}}},[r("sticky",{attrs:{"class-name":"sub-navbar"}},[r("div",{staticStyle:{border:"0px solid red",color:"white","text-align":"center"}},[r("h2",[e._v("Agregar expediente")])])]),e._v(" "),r("div",{staticClass:"createPost-container",staticStyle:{"padding-top":"35px","padding-bottom":"20px","padding-left":"13px"}},[r("el-form",{ref:"formAgregar",staticClass:"demo-ruleForm",attrs:{model:e.formAgregar,rules:e.rulesFormProceso,"label-width":"145px"}},[r("el-form-item",{attrs:{label:"Expediente",prop:"radicado"}},[r("el-input",{staticClass:"control-modal",attrs:{autocomplete:"off",placeholder:"Ingrese No. del expediente",maxlength:"17","show-word-limit":"",clearable:""},model:{value:e.formAgregar.radicado,callback:function(t){e.$set(e.formAgregar,"radicado",t)},expression:"formAgregar.radicado"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Servicio",prop:"servicio"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",placeholder:"Seleccione el servicio",clearable:""},on:{change:function(t){return e.selectServicio(t)},clear:function(t){return e.clearSelect()}},model:{value:e.formAgregar.servicio,callback:function(t){e.$set(e.formAgregar,"servicio",t)},expression:"formAgregar.servicio"}},e._l(e.datosServicios,(function(e){return r("el-option",{key:e.idservicio,attrs:{label:e.servicio,value:e.idservicio}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Empresa",prop:"empresa"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",disabled:e.disableEmpresas,placeholder:"Seleccione un prestador",clearable:""},model:{value:e.formAgregar.empresa,callback:function(t){e.$set(e.formAgregar,"empresa",t)},expression:"formAgregar.empresa"}},e._l(e.datosEmpresas,(function(e){return r("el-option",{key:e.id_empresa,attrs:{label:e.nombre,value:e.id_empresa}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Proyectista",prop:"usuario"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",placeholder:"Seleccione un abogado",clearable:""},model:{value:e.formAgregar.usuario,callback:function(t){e.$set(e.formAgregar,"usuario",t)},expression:"formAgregar.usuario"}},e._l(e.datosUsuarios,(function(e){return r("el-option",{key:e.idusuario,attrs:{label:e.nombre+" "+e.apellido,value:e.idusuario}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Revisor",prop:"revisor"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",placeholder:"Seleccione un revisor",clearable:""},model:{value:e.formAgregar.revisor,callback:function(t){e.$set(e.formAgregar,"revisor",t)},expression:"formAgregar.revisor"}},e._l(e.datosRevisor,(function(e){return r("el-option",{key:e.idusuario,attrs:{label:e.nombre+" "+e.apellido,value:e.idusuario}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Caducidad sanción",prop:"fecha_caducidad_sancion",clearable:""}},[r("el-date-picker",{staticClass:"control-modal",attrs:{type:"date",placeholder:"Seleccione la fecha"},model:{value:e.formAgregar.fecha_caducidad_sancion,callback:function(t){e.$set(e.formAgregar,"fecha_caducidad_sancion",t)},expression:"formAgregar.fecha_caducidad_sancion"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Caducidad recurso",prop:"fecha_caducidad_recurso",clearable:""}},[r("el-date-picker",{staticClass:"control-modal",attrs:{type:"date",placeholder:"Seleccione la fecha"},model:{value:e.formAgregar.fecha_caducidad_recurso,callback:function(t){e.$set(e.formAgregar,"fecha_caducidad_recurso",t)},expression:"formAgregar.fecha_caducidad_recurso"}})],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.resetForm("formAgregar"),e.msgAgregarVisible=!1}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.agregarExpediente("formAgregar")}}},[e._v("Agregar")])],1)],1)],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.msgUsuarioVisible,width:"35em","custom-class":"dialog-class-lista",center:"","show-close":!1},on:{"update:visible":function(t){e.msgUsuarioVisible=t}}},[r("sticky",{attrs:{"class-name":"sub-navbar"}},[r("div",{staticStyle:{border:"0px solid red",color:"white","text-align":"center"}},[r("h2",[e._v("Modificar asignación de usuarios")])])]),e._v(" "),r("div",{staticClass:"createPost-container",staticStyle:{"padding-top":"35px","padding-bottom":"5px","padding-left":"20px"}},[r("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.formUsuario,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Expediente"}},[r("el-input",{staticClass:"control-modal",attrs:{autocomplete:"off",placeholder:"Ingrese No. del expediente",maxlength:"14","show-word-limit":"",clearable:"",readonly:""},model:{value:e.formUsuario.expediente,callback:function(t){e.$set(e.formUsuario,"expediente",t)},expression:"formUsuario.expediente"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Proyectista"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",placeholder:"Seleccione un abogado"},model:{value:e.formUsuario.usuario,callback:function(t){e.$set(e.formUsuario,"usuario",t)},expression:"formUsuario.usuario"}},e._l(e.datosUsuarios,(function(e){return r("el-option",{key:e.idusuario,attrs:{label:e.nombre+" "+e.apellido,value:e.idusuario}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Revisor"}},[r("el-select",{staticClass:"control-modal",attrs:{filterable:"",placeholder:"Seleccione un revisor"},model:{value:e.formUsuario.revisor,callback:function(t){e.$set(e.formUsuario,"revisor",t)},expression:"formUsuario.revisor"}},e._l(e.datosRevisor,(function(e){return r("el-option",{key:e.idusuario,attrs:{label:e.nombre+" "+e.apellido,value:e.idusuario}})})),1)],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:function(t){e.msgUsuarioVisible=!1}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(t){e.msgUsuarioVisible=!1,e.asignarUsuario()}}},[e._v("Asignar")])],1)],1)],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"Advertencia",visible:e.deleteDialogVisible,width:"35%",center:"","custom-class":"dialog-class-lista","show-close":!1},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[r("br"),e._v(" "),r("center",[r("span",[e._v("¿Realmente desea eliminar el expediente "),r("b",[e._v("No. "+e._s(e.delExpediente))]),e._v("?")])]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.deleteDialogVisible=!1}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.borrarExpediente}},[e._v("Confirmar")])],1)],1),e._v(" "),r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card"},[r("el-button",{staticStyle:{"margin-bottom":"20px",border:"1px solid #67C23A"},attrs:{loading:e.downloadLoading,round:"",size:"mini",type:"success",plain:"",icon:"el-icon-download"},on:{click:e.handleDownload}},[r("span",[r("b",[e._v("Exportar a Excel los procesos seleccionados")])])]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid #d8ebff"},attrs:{height:"65vh","element-loading-text":"",border:"",fit:"","highlight-current-row":"",data:e.datosProcesos},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),e._l(e.tableColumns,(function(t){return r("el-table-column",{key:t.label,attrs:{label:t.label,prop:t.prop,align:"center",width:t.width,sortable:"",filters:e.getFilters(t.filter),"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(i){return["empresa"===t.prop||"estado"===t.prop?r("div",{staticClass:"keepAll"},[e._v(e._s(i.row[t.prop]))]):"usuario"===t.prop?r("div",[r("el-tag",{attrs:{type:"primary"}},[e._v(e._s(i.row[t.prop]))])],1):"revisor"===t.prop?r("div",[r("el-tag",{attrs:{type:"info"}},[e._v(e._s(i.row[t.prop]))])],1):"caducidadsancion"===t.prop?r("div",[r("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e.convertDate(i.row[t.prop])))]):r("div",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})})),e._v(" "),r("el-table-column",{attrs:{align:"center",width:(e.showOnlyAdmin,190)},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{attrs:{size:"mini",placeholder:"No. Expediente",clearable:""},on:{input:e.buscarProcesos},model:{value:e.busquedaExpediente,callback:function(t){e.busquedaExpediente=t},expression:"busquedaExpediente"}})]}},{key:"default",fn:function(t){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showOnlyAdmin,expression:"showOnlyAdmin"}],staticStyle:{border:"1px solid #409eff"},attrs:{size:"mini",icon:"el-icon-user-solid"},on:{click:function(r){return e.handlePermisos(t.row)}}}),e._v(" "),r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(r){return e.handleProceso(t.row)}}},[r("b",[e._v("Ver")])]),e._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showOnlyAdmin,expression:"showOnlyAdmin"}],attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"},on:{click:function(r){return e.handleDelete(t.row)}}})]}}])})],2)],1)],1)],1)},a=[],o=(r("55dd"),r("5df3"),r("f400"),r("2909")),n=(r("ac6a"),r("96cf"),r("1da1")),s=(r("6762"),r("2fdb"),r("5530")),c=r("2f62"),l=r("e6fd"),d=r("5b64"),u=r("b0d2"),f=r("4e03"),p=r("dac9"),g=r("a888"),m=r("b804"),h=r("c1df"),v=r.n(h),b={name:"ViewProcesos",directives:{elDragDialog:g["a"]},components:{Sticky:m["a"]},data:function(){return{dialogTableVisible:!1,tableColumns:[],filters:{},filterExpediente:[],filterEmpresa:[],filterServicio:[],filterEstado:[],filterCaducidadsancion:[],filterAbogado:[],filterRevisor:[],datosProcesos:[],datosUsuarios:[],datosRevisor:[],datosServicios:[],datosEmpresas:[],allDataEmpresas:[],formAgregar:l["a"].formAgregar,rulesFormProceso:l["a"].rulesFormProceso,formUsuario:l["a"].formUsuario,busquedaExpediente:"",msgAgregarVisible:!1,msgUsuarioVisible:!1,deleteDialogVisible:!1,delExpediente:"",delIdproceso:"",loading:!0,disableEmpresas:!0,showOnlyAdmin:!1,multipleSelection:[],downloadLoading:!1,filename:""}},computed:Object(s["a"])({},Object(c["b"])(["name","roles","usuario","idusuario","dependencia"])),created:function(){this.initView()},methods:{convertDate:function(e){return"No registra"!==e?v()(e).format("DD/MM/YYYY"):"No registra"},buscarProcesos:function(){var e=this,t=JSON.parse(window.localStorage.getItem("procesos"));this.datosProcesos=t.filter((function(t){return!e.busquedaExpediente||t.expediente.toLowerCase().includes(e.busquedaExpediente.toLowerCase())}))},handleSelectionChange:function(e){this.multipleSelection=e},handleDownload:function(){var e=this;this.multipleSelection.length?(this.downloadLoading=!0,Promise.all([r.e("chunk-6e87ca78"),r.e("chunk-5bdd67a2"),r.e("chunk-87968d96")]).then(r.bind(null,"4bf8d")).then((function(t){var r=["EXPEDIENTE","SERVICIO","EMPRESA","CADUCIDAD O FECHA VENCIMIENTO/ TÉRMINO PARA RESOLVER REP(DD-MM-AA)","ESTADO","PROYECTISTA","REVISOR"],i=["expediente","servicio","empresa","caducidadsancion","estado","usuario","revisor"],a=e.multipleSelection,o=e.formatJson(i,a);t.export_json_to_excel({header:r,data:o,filename:e.filename}),e.$refs.multipleTable.clearSelection(),e.downloadLoading=!1}))):this.$message({message:"Seleccione al menos un proceso",type:"warning"})},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},initView:function(){this.roles.includes("administrador")?(this.showOnlyAdmin=!0,this.tableColumns=l["a"].tableColumnsAdmin):this.tableColumns=l["a"].tableColumnsAbogado,this.getProcesos(),this.getUsuarios(),this.getRevisores(),this.getServicios()},getProcesos:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["c"])(this.dependencia).then((function(e){var r=[];r=t.roles.includes("administrador")?e:t.roles.includes("revisor")?e.filter((function(e){return e.idrevisor===t.idusuario})):e.filter((function(e){return e.idusuario===t.idusuario})),r=r.map((function(e){if("None"!==e.caducidadsancion){var t=v()(e.caducidadsancion).format("MM"),r=v()(e.caducidadsancion).format("YYYY");e.textCaducidadsancion=r+"-"+t,e.valueCaducidadsancion=t+"/"+r,e.caducidadsancion=new Date(v()(e.caducidadsancion).format("YYYY/MM/DD HH:mm:ss"))}else e.textCaducidadsancion="No registra",e.valueCaducidadsancion="No registra",e.caducidadsancion="No registra";return e})),window.localStorage.setItem("procesos",JSON.stringify(r)),t.datosProcesos=r,t.loading=!1,t.setFilters()}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setFilters:function(){var e=this;this.datosProcesos.forEach((function(t){e.filterExpediente.push({text:t.expediente,value:t.expediente}),e.filterEmpresa.push({text:t.empresa,value:t.empresa}),e.filterServicio.push({text:t.servicio,value:t.servicio}),e.filterEstado.push({text:t.estado,value:t.estado}),e.filterCaducidadsancion.push({text:t.textCaducidadsancion,value:t.valueCaducidadsancion}),e.filterAbogado.push({text:t.usuario,value:t.usuario}),e.filterRevisor.push({text:t.revisor,value:t.revisor})})),this.filters.filterExpediente=this.getUniqueListBy(this.filterExpediente,"text"),this.filters.filterEmpresa=this.getUniqueListBy(this.filterEmpresa,"text"),this.filters.filterServicio=this.getUniqueListBy(this.filterServicio,"text"),this.filters.filterEstado=this.getUniqueListBy(this.filterEstado,"text"),this.filters.filterCaducidadsancion=this.getUniqueListBy(this.filterCaducidadsancion,"text"),this.filters.filterCaducidadsancion=this.orderByDate(this.filters.filterCaducidadsancion),this.filters.filterAbogado=this.getUniqueListBy(this.filterAbogado,"text"),this.filters.filterRevisor=this.getUniqueListBy(this.filterRevisor,"text")},getUniqueListBy:function(e,t){return Object(o["a"])(new Map(e.map((function(e){return[e[t],e]}))).values())},getFilters:function(e){return this.filters[e]},orderByDate:function(e){e.forEach((function(t,r){"No registra"===t.text&&e.splice(r,1)}));var t=Object(o["a"])(e.sort((function(e,t){return t.text.substring(0,4)-e.text.substring(0,4)})));return t.unshift({text:"No registra",value:"No registra"}),t},getUsuarios:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["h"])(this.dependencia).then((function(e){t.datosUsuarios=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRevisores:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["f"])(this.dependencia).then((function(e){t.datosRevisor=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getServicios:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["a"])(this.dependencia).then((function(e){t.datosServicios=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getEmpresas:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])({servicio:[]}).then((function(e){t.allDataEmpresas=e.items,window.localStorage.setItem("empresas",JSON.stringify(t.allDataEmpresas))}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),filterHandler:function(e,t,r){var i=r["property"],a=t[i];return"caducidadsancion"===i&&"No registra"!==a&&(a=v()(a).format("DD/MM/YYYY").substring(3,10)),a===e},handlePermisos:function(e){this.formUsuario.idproceso=e.idproceso,this.formUsuario.expediente=e.expediente,this.formUsuario.usuario=e.idusuario,this.formUsuario.revisor=e.idrevisor,this.msgUsuarioVisible=!0},handleDelete:function(e){this.delIdproceso=e.idproceso,this.delExpediente=e.expediente,this.deleteDialogVisible=!0},borrarExpediente:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(d["b"])(this.delIdproceso).then((function(e){t.$notify({title:"Información",message:"Se ha eliminado el expediente",type:"warning",duration:2e3}),t.getProcesos()}));case 3:this.deleteDialogVisible=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),asignarUsuario:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(d["f"])(this.formUsuario).then((function(e){t.$notify({title:"Bien hecho!",message:"Expediente actualizado con éxito",type:"success",duration:2e3}),t.getProcesos()}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectServicio:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.formAgregar.empresa&&(this.disableEmpresas=!0,delete this.formAgregar.empresa),!t){e.next=6;break}return r=[],r.push(t),e.next=6,Object(p["a"])({servicio:r}).then((function(e){i.datosEmpresas=e.items,i.disableEmpresas=!1}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),clickAgregar:function(){this.formAgregar={},this.disableEmpresas=!0},agregarExpediente:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs[t].validate((function(e){if(!e)return!1;r.msgAgregarVisible=!1,r.loading=!0,r.formAgregar.dependencia=r.dependencia,Object(d["a"])(r.formAgregar).then((function(e){r.$notify({title:"Buen trabajo!",message:"Expediente agregado con éxito",type:"success",duration:2e3}),r.getProcesos(),r.$refs["formAgregar"].resetFields()}),(function(e){console.log(e),r.$notify({title:"Error",message:"Número de expediente ya existe",type:"error",duration:2e3}),r.getProcesos(),r.$refs["formAgregar"].resetFields()}))}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()},clearSelect:function(){this.formAgregar.empresa="",this.disableEmpresas=!0},closeModalAgregar:function(){this.$refs["formAgregar"].resetFields(),this.msgAgregarVisible=!1},handleProceso:function(e){this.$router.push({path:"/procesos/detalle/".concat(e.idproceso)})}}},x=b,w=(r("c21e"),r("6bbb"),r("2877")),y=Object(w["a"])(x,i,a,!1,null,"0fdac6c6",null);t["default"]=y.exports},"6bbb":function(e,t,r){"use strict";r("d10e")},a888:function(e,t,r){"use strict";r("a481"),r("6762"),r("2fdb");var i={bind:function(e,t,r){var i=e.querySelector(".el-dialog__header"),a=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,n=e.clientY-i.offsetTop,s=a.offsetWidth,c=a.offsetHeight,l=document.body.clientWidth,d=document.body.clientHeight,u=a.offsetLeft,f=l-a.offsetLeft-s,p=a.offsetTop,g=d-a.offsetTop-c,m=o(a,"left"),h=o(a,"top");m.includes("%")?(m=+document.body.clientWidth*(+m.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(m=+m.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,o=e.clientY-n;-i>u?i=-u:i>f&&(i=f),-o>p?o=-p:o>g&&(o=g),a.style.cssText+=";left:".concat(i+m,"px;top:").concat(o+h,"px;"),r.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},a=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(a)),i.install=a;t["a"]=i},b0d2:function(e,t,r){"use strict";r.d(t,"h",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"g",(function(){return l})),r.d(t,"i",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return f}));var i=r("b775");function a(e){return Object(i["a"])({url:"/usuarios",method:"get",params:{dependencia:e}})}function o(e){return Object(i["a"])({url:"/revisores",method:"get",params:{dependencia:e}})}function n(e){return Object(i["a"])({url:"/lista_usuarios",method:"get",params:{dependencia:e}})}function s(){return Object(i["a"])({url:"/nicknames",method:"get"})}function c(){return Object(i["a"])({url:"/correos",method:"get"})}function l(){return Object(i["a"])({url:"/rol",method:"get"})}function d(e){return Object(i["a"])({url:"/usuarios",method:"put",data:e})}function u(e,t){return Object(i["a"])({url:"/usuarios",method:"delete",params:{idusuario:e,nickname:t}})}function f(e){return Object(i["a"])({url:"/user/create",method:"post",data:e})}},b804:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[r("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[r("div",[e._v("sticky")])])],2)])},a=[],o=(r("c5f6"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1,zIndex:0}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;this.zIndex=t>=84?0:10,t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),n=o,s=r("2877"),c=Object(s["a"])(n,i,a,!1,null,null,null);t["a"]=c.exports},c21e:function(e,t,r){"use strict";r("fe2b")},d10e:function(e,t,r){},dac9:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("b775");function a(e){return Object(i["a"])({url:"/empresa",method:"post",data:e})}},e6fd:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i={tableColumnsAdmin:[{label:"Expediente",prop:"expediente",width:156,filter:"filterExpediente"},{label:"Servicio",prop:"servicio",width:112,filter:"filterServicio"},{label:"Empresa",prop:"empresa",width:245,filter:"filterEmpresa"},{label:"Caducidad",prop:"caducidadsancion",width:135,filter:"filterCaducidadsancion"},{label:"Estado",prop:"estado",width:300,filter:"filterEstado"},{label:"Proyectista",prop:"usuario",width:170,filter:"filterAbogado"},{label:"Revisor",prop:"revisor",width:170,filter:"filterRevisor"}],tableColumnsAbogado:[{label:"Expediente",prop:"expediente",width:156,filter:"filterExpediente"},{label:"Servicio",prop:"servicio",width:112,filter:"filterServicio"},{label:"Empresa",prop:"empresa",width:245,filter:"filterEmpresa"},{label:"Caducidad",prop:"caducidadsancion",width:135,filter:"filterCaducidadsancion"},{label:"Estado",prop:"estado",width:300,filter:"filterEstado"},{label:"Proyectista",prop:"usuario",width:170,filter:"filterAbogado"},{label:"Revisor",prop:"revisor",width:170,filter:"filterRevisor"}],tableColumnsEtapas:[{label:"#",prop:"idetapa",width:70},{label:"Radicado",prop:"radicadoEtapa"},{label:"Etapa",prop:"nombreEtapa",width:300},{label:"Fecha de inicio",prop:"fechaInicioEtapa"},{label:"Fecha fin",prop:"fechaFinEtapa"},{label:"Observación",prop:"observacionEtapa",width:300}],filter:[{text:"Energía",value:"Energía"},{text:"Gas",value:"Gas"},{text:"GLP",value:"GLP"}],formAgregar:{radicado:"",servicio:"",empresa:"",usuario:"",revisor:"",fecha_caducidad_sancion:null,fecha_caducidad_recurso:null},rulesFormProceso:{radicado:[{required:!0,message:"Ingrese un expediente",trigger:"blur"},{min:17,max:17,message:"La longitud del expediente debe ser de 17 caracteres",trigger:"blur"}],servicio:[{required:!0,message:"Seleccione un servicio",trigger:"change"}],empresa:[{required:!0,message:"Seleccione una empresa",trigger:"change"}],usuario:[{required:!0,message:"Seleccione un abogado",trigger:"change"}],revisor:[{required:!0,message:"Seleccione un revisor",trigger:"change"}],fecha_caducidad_sancion:[{type:"date",required:!1,message:"Ingrese una fecha válida",trigger:"change"}],fecha_caducidad_recurso:[{type:"date",required:!1,message:"Ingrese una fecha válida",trigger:"change"}]},formUsuario:{idproceso:"",expediente:"",usuario:"",revisor:""},formDetalleProceso:{expediente:"",tipo_sancion:"",decision:"",caducidadsancion:"",caducidadrecurso:"",causa:[],descripcion:""},rulesDetalleProceso:{expediente:[{required:!0,message:"Ingrese un expediente",trigger:"blur"},{min:17,max:17,message:"La longitud debe ser de 17 caracteres",trigger:"blur"}],empresa:[{required:!0,message:"Seleccione una empresa",trigger:"change"}],tipo_sancion:[{required:!1,message:"Seleccione un tipo de sanción",trigger:"change"}],sancion:[{required:!1,message:"Valor sanción requerido"}],decision:[{required:!1,message:"Seleccione una decision",trigger:"change"}],causa:[{required:!0,message:"Seleccione una causal",trigger:"change"}],caducidadsancion:[{required:!1,message:"Ingrese una fecha válida",trigger:"change"}],caducidadrecurso:[{required:!1,message:"Ingrese una fecha válida",trigger:"change"}]},formUser:{nombre:"",apellido:"",genero:"",nickname:"",contrasena:"",area:"",rol:[],descripcion:"",avatar:"",token:"",email:"",authgoogle:!1},rulesFormUser:{nombre:[{required:!0,message:"Ingrese nombre",trigger:"blur"}],apellido:[{required:!0,message:"Ingrese apellido",trigger:"blur"}],genero:[{required:!0,message:"Seleccione un género",trigger:"change"}],rol:[{required:!0,message:"Seleccione un rol",trigger:"change"}],email:[{type:"email",required:!0,message:"Ingrese un correo electrónico válido",trigger:"blur"}],descripcion:[{required:!0,message:"Ingrese una descripción del usuario",trigger:"change"}]},dataGenero:[{idgenero:1,nombre:"Masculino"},{idgenero:2,nombre:"Femenino"}]}},f400:function(e,t,r){"use strict";var i=r("c26b"),a=r("b39a"),o="Map";e.exports=r("e0b8")(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=i.getEntry(a(this,o),e);return t&&t.v},set:function(e,t){return i.def(a(this,o),0===e?0:e,t)}},i,!0)},fe2b:function(e,t,r){}}]);