(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-514ab6a2"],{"4b93":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(){return Object(i["a"])({url:"/tiposancion",method:"get"})}},"4e03":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(e){return Object(i["a"])({url:"/servicios",method:"get",params:{dependencia:e}})}},"50c7":function(e,t,a){},"59ae":function(e,t,a){"use strict";a("88a7")},"61e4":function(e,t,a){"use strict";a("50c7")},"6d33":function(e,t,a){"use strict";a("9372")},7456:function(e,t,a){},"88a7":function(e,t,a){},"8d41":function(e,t,a){},9372:function(e,t,a){},a888:function(e,t,a){"use strict";a("a481"),a("6762"),a("2fdb");var i={bind:function(e,t,a){var i=e.querySelector(".el-dialog__header"),n=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,r=e.clientY-i.offsetTop,l=n.offsetWidth,s=n.offsetHeight,c=document.body.clientWidth,u=document.body.clientHeight,d=n.offsetLeft,p=c-n.offsetLeft-l,m=n.offsetTop,f=u-n.offsetTop-s,h=o(n,"left"),v=o(n,"top");h.includes("%")?(h=+document.body.clientWidth*(+h.replace(/\%/g,"")/100),v=+document.body.clientHeight*(+v.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),v=+v.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,o=e.clientY-r;-i>d?i=-d:i>p&&(i=p),-o>m?o=-m:o>f&&(o=f),n.style.cssText+=";left:".concat(i+h,"px;top:").concat(o+v,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},n=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(n)),i.install=n;t["a"]=i},c3f0:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s}));var i=a("b775");function n(){return Object(i["a"])({url:"/historico/anios",method:"get"})}function o(e){return Object(i["a"])({url:"/historico_general",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/historico_general_guardar",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/historico_especifico",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/historico_especifico_guardar",method:"post",data:e})}},dac9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(e){return Object(i["a"])({url:"/empresa",method:"post",data:e})}},e498:function(e,t,a){"use strict";a("7456")},ed1c:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return c}));var i=a("b775");function n(){return Object(i["a"])({url:"/causal",method:"get"})}function o(e){return Object(i["a"])({url:"/causal_proceso",method:"get",params:{idProceso:e}})}function r(e){return Object(i["a"])({url:"/cantidad_causal_proceso",method:"get",params:{idproceso:e}})}function l(e){return Object(i["a"])({url:"/causal",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/causal",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/causal",method:"delete",data:e})}},ed2e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"createPost-container",staticStyle:{height:"88vh"}},[a("TablaHistorico",{attrs:{tablecolumns:e.columns,tabledata:e.data,tableexpand:e.expand}})],1)},n=[],o=(a("6762"),a("2fdb"),a("5530")),r=a("2f62"),l=a("a888"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{height:"auto"}},[a("el-card",{staticClass:"box-card",style:{height:e.x.matches?"30vh":"11em",overflow:e.x.matches?"auto":"hidden",marginBottom:e.x.matches?"2%":"0.5%"}},[a("el-row",{staticClass:"filter-container",attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,md:3}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Año",multiple:"","collapse-tags":"",clearable:!1},model:{value:e.listQuery.anio,callback:function(t){e.$set(e.listQuery,"anio",t)},expression:"listQuery.anio"}},e._l(e.anioOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:12,md:4}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Expediente",clearable:!1},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.expediente,callback:function(t){e.$set(e.listQuery,"expediente",t)},expression:"listQuery.expediente"}})],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:12,md:9}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Norma infringida",clearable:!1},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.norma,callback:function(t){e.$set(e.listQuery,"norma",t)},expression:"listQuery.norma"}})],1),e._v(" "),a("el-col",{attrs:{xs:12,md:8}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Decisión en firme",multiple:"","collapse-tags":"",clearable:!1},model:{value:e.listQuery.decision_firme,callback:function(t){e.$set(e.listQuery,"decision_firme",t)},expression:"listQuery.decision_firme"}},e._l(e.OptionsDecisionFirme,(function(e){return a("el-option",{key:e.idtiposancion,attrs:{label:e.nombre,value:e.idtiposancion}})})),1)],1)],1),e._v(" "),a("el-row",{staticClass:"filter-container",attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,md:7}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Servicio",multiple:"","collapse-tags":"",clearable:!1},on:{change:function(t){return e.getEmpresas(t)}},model:{value:e.listQuery.servicio,callback:function(t){e.$set(e.listQuery,"servicio",t)},expression:"listQuery.servicio"}},e._l(e.optionsServicios,(function(e){return a("el-option",{key:e.idservicio,attrs:{label:e.servicio,value:e.idservicio}})})),1)],1),e._v(" "),a("el-col",{attrs:{xs:12,md:9}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Empresa",multiple:"","collapse-tags":"",clearable:!1},model:{value:e.listQuery.empresa,callback:function(t){e.$set(e.listQuery,"empresa",t)},expression:"listQuery.empresa"}},e._l(e.OptionsEmpresa,(function(e){return a("el-option",{key:e.id_empresa+"-"+e.idservicio,attrs:{label:e.nombre,value:e.id_empresa}})})),1)],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:24,md:8}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Nit empresa",clearable:!1},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.nit,callback:function(t){e.$set(e.listQuery,"nit",t)},expression:"listQuery.nit"}})],1)],1),e._v(" "),a("el-row",{staticClass:"filter-container",attrs:{gutter:10}},[a("el-col",{staticStyle:{border:"0px solid red"},attrs:{sm:24,md:7}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Causal",multiple:"","collapse-tags":"",clearable:!1},on:{change:function(t){return e.selectCausal(t)}},model:{value:e.listQuery.causal,callback:function(t){e.$set(e.listQuery,"causal",t)},expression:"listQuery.causal"}},e._l(e.selectCausalOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.nombre,value:t.id.toString()}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.nombre)+" ")])])})),1)],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{sm:24,md:9}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",filterable:!e.x.matches,placeholder:"Subcausal",multiple:"","collapse-tags":"",clearable:!1},model:{value:e.listQuery.subcausal,callback:function(t){e.$set(e.listQuery,"subcausal",t)},expression:"listQuery.subcausal"}},e._l(e.selectSubCausalOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.nombre,value:e.convertToObj(t.id+"-"+t.idsubcausal)}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.nombre)+" ")])])})),1)],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:12,md:2}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{type:"success",size:"small",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("Buscar")])],1),e._v(" "),a("el-col",{staticStyle:{border:"0px solid red"},attrs:{xs:12,md:2}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{type:"danger",size:"small",icon:"el-icon-remove-outline"},on:{click:e.handleRemove}},[e._v("Limpiar")])],1),e._v(" "),a("el-col",{attrs:{xs:12,md:2}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{loading:e.downloadGeneral,type:"primary",icon:"el-icon-download",size:"small"},on:{click:e.downloadExcelGeneral}},[e._v("Info General")])],1),e._v(" "),a("el-col",{attrs:{xs:12,md:2}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{loading:e.downloadEspecifica,type:"primary",icon:"el-icon-download",size:"small"},on:{click:e.downloadExcelEspecifica}},[e._v("Específica")])],1)],1)],1),e._v(" "),a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-historico",staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.list,height:e.x.matches?"22em":"48vh"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.tableexpand,(function(i){return a("p",{key:i.prop,staticStyle:{"padding-left":"5em"}},[t.row[i.prop]?a("span",["f_"===i.prop.substr(0,2)?a("span",["None"!=t.row[i.prop]?a("span",[a("b",[e._v(e._s(i.label)+":")]),e._v(" "+e._s(e.convertDate(t.row[i.prop]))+"\n                ")]):e._e()]):!0===i.download?a("span",["NO PRESENTÓ RECURSO"===t.row[i.prop]["value"]?a("span",[a("b",[e._v(e._s(i.label)+":")]),e._v(" No presentó recurso\n                ")]):null!==t.row[i.prop]["value"]?a("span",[a("b",[e._v(e._s(i.label)+":")]),e._v(" "),a("el-link",{staticStyle:{"font-size":"small"},attrs:{type:"primary"},on:{click:function(a){return e.download(t.row[i.prop]["value"])}}},[a("ins",[e._v(e._s(t.row[i.prop]["value"].split("/")[3]))])])],1):e._e()]):"valor_en_firme"===i.prop||"valor_sancion"===i.prop?a("span",[a("b",[e._v(e._s(i.label)+":")]),e._v(" $ "+e._s(e._f("toThousandFilter")(t.row[i.prop]))+"\n              ")]):"cargos"===i.prop?a("span",[t.row[i.prop].length>0?a("span",[a("el-link",{staticStyle:{"font-size":"small"},attrs:{type:"primary"},on:{click:function(a){return e.openModalCargos(t.row[i.prop])}}},[a("ins",[e._v(e._s(i.label))])])],1):e._e()]):a("span",[a("b",[e._v(e._s(i.label)+":")]),e._v(" "+e._s(t.row[i.prop])+"\n              ")])]):e._e()])}))}}])}),e._v(" "),e._l(e.tablecolumns,(function(t){return a("el-table-column",{key:t.label,attrs:{label:t.label,prop:t.prop,align:t.align,sortable:t.sortable,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){return["f_"===t.prop.substr(0,2)?a("div",[a("i",{directives:[{name:"show",rawName:"v-show",value:"No aplica"!==e.convertDate(i.row[t.prop]),expression:"convertDate(scope.row[column.prop]) === 'No aplica' ? false : true"}],staticClass:"el-icon-time"}),e._v(" "+e._s(e.convertDate(i.row[t.prop])))]):"n_empresa"===t.prop?a("div",{staticClass:"keepAll"},[e._v(e._s(i.row[t.prop]))]):"nit_empresa"===t.prop?a("div",[e._v(e._s(e.getCheckDigit(i.row[t.prop])))]):"n_decision_firme"===t.prop?a("div",{staticClass:"keepAll"},[e._v(e._s(null!==i.row[t.prop]?i.row[t.prop]:"No aplica"))]):"valor_en_firme"===t.prop?a("div",[e._v("$ "+e._s(e._f("toThousandFilter")(i.row[t.prop])))]):"causas"===t.prop||"subcausales"===t.prop?a("span",[i.row[t.prop].length?a("span",e._l(i.row[t.prop],(function(n,o){return a("span",{key:"subcausales"===t.prop?n.id:n.idcausa},[i.row[t.prop].length>1?a("div",{staticStyle:{"border-top":"1px solid #E4E7ED","padding-top":"6px","padding-bottom":"6px"},style:o+1===i.row[t.prop].length?{borderBottom:"1px solid #E4E7ED"}:{}},[a("div",{staticClass:"keepAll"},[e._v(e._s(n.nombre))])]):a("div",[a("div",{staticClass:"keepAll"},[e._v(e._s(n.nombre))])])])})),0):a("span",[a("div",{attrs:{type:"info"}},[e._v("No aplica")])])]):a("div",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})}))],2)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{"padding-top":"0"},attrs:{small:"",layout:e.x.matches?"prev, pager, next":"total, sizes, prev, pager, next, jumper",total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),e._v(" "),a("ModalPdf",{attrs:{modalvisible:e.dialogVisible,srcparam:e.urlPdf},on:{closeModalPdf:e.closeModalPdf}}),e._v(" "),a("ModalCargos",{attrs:{modalvisible:e.dialogCargosVisible,datacargos:e.dataCargos},on:{closeModalCargos:e.closeModalCargos}})],1)},c=[],u=(a("6b54"),a("55dd"),a("28a5"),a("96cf"),a("1da1")),d=a("c1df"),p=a.n(d),m=(a("8d41"),"@@wavesContext");function f(e,t){function a(a){var i=Object.assign({},t.value),n=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",o.appendChild(l)),n.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}}return e[m]?e[m].removeHandle=a:e[m]={removeHandle:a},a}var h={bind:function(e,t){e.addEventListener("click",f(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[m].removeHandle,!1),e.addEventListener("click",f(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[m].removeHandle,!1),e[m]=null,delete e[m]}},v=function(e){e.directive("waves",h)};window.Vue&&(window.waves=h,Vue.use(v)),h.install=v;var g=h,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},_=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var w=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function y(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function x(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function C(e,t,a){var i=x(),n=e-i,o=20,r=0;t="undefined"===typeof t?500:t;var l=function e(){r+=o;var l=Math.easeInOutQuad(r,i,n,t);y(l),r<t?w(e):a&&"function"===typeof a&&a()};l()}var S={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&C(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&C(0,800)}}},k=S,O=(a("e498"),a("2877")),E=Object(O["a"])(k,b,_,!1,null,"6af373ef",null),N=E.exports,j=a("c3f0"),z=a("ed1c"),Q=a("b775");function D(e){return Object(Q["a"])({url:"/subcausal",method:"get",params:{idcausal:e}})}var R=a("4b93"),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.modalvisible,"before-close":e.handleCancel,width:e.x.matches?"":"75em",fullscreen:!!e.x.matches,"custom-class":"dialog-class","show-close":!0,"destroy-on-close":!0,"close-on-click-modal":!0,"close-on-press-escape":!0,"append-to-body":""},on:{"update:visible":function(t){e.modalvisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:void 0==e.srcparam,expression:"srcparam != undefined ? false : true"}],staticClass:"createPost-container pdf-container"},[a("embed",{attrs:{src:e.srcparam+"#page=1&zoom=5%",height:e.x.matches?"100%":"550vh",width:"100%"}})])])},$=[],P={name:"ModalPdf",directives:{elDragDialog:l["a"]},components:{},props:{modalvisible:{type:Boolean,default:!1},srcparam:{type:String,default:""}},data:function(){return{x:"",loading:!0}},created:function(){this.x=window.matchMedia("(max-width: 800px)")},methods:{handleCancel:function(){this.$emit("closeModalPdf",{response:!1})}}},F=P,T=(a("6d33"),Object(O["a"])(F,M,$,!1,null,null,null)),A=T.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.modalvisible,"before-close":e.handleCancel,width:e.x.matches?"":"40em",fullscreen:!!e.x.matches,"custom-class":"dialog-class","show-close":!0,"destroy-on-close":!0,"close-on-click-modal":!0,"close-on-press-escape":!0,"append-to-body":""},on:{"update:visible":function(t){e.modalvisible=t}}},[a("div",{staticClass:"createPost-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.x.matches,expression:"x.matches"}],staticStyle:{position:"fixed","text-align":"center",border:"0px solid red",width:"90%","z-index":"10","margin-top":"85vh"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"medium"},on:{click:e.handleCancel}})],1),e._v(" "),e._l(e.datacargos,(function(t){return a("el-card",{key:t.numero_cargo,staticStyle:{"margin-top":"1em"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("b",[e._v("Cargo # ")]),e._v(e._s(t.numero_cargo))])]),e._v(" "),a("div",{staticClass:"text item",staticStyle:{"text-align":"justify"}},[a("p",{staticClass:"keepAll"},[e._v("\n          "+e._s(t.cargo)+"\n        ")]),e._v(" "),a("el-alert",{staticClass:"keepAll",attrs:{title:"Norma infringida",type:"info",description:t.norma,"show-icon":"",closable:!1}})],1)])}))],2)])},G=[],H={name:"ModalCargos",directives:{elDragDialog:l["a"]},components:{},props:{modalvisible:{type:Boolean,default:!1},datacargos:{type:Array,default:null}},data:function(){return{x:"",loading:!0}},created:function(){this.x=window.matchMedia("(max-width: 800px)")},methods:{handleCancel:function(){this.$emit("closeModalCargos",{response:!1})}}},L=H,Y=(a("61e4"),Object(O["a"])(L,V,G,!1,null,null,null)),B=Y.exports,q={tHeaderGeneral:["Año","Expediente","Empresa","NIT","Servicio","r_memorado_devolucion_ig","Fecha memorando devolución IG","acto_administrativo_archivo_preliminar","Fecha acto administrativo archivo preliminar","acto_administrativo_acumulacion","Fecha acto administrativo acumulación","resolucion_decision","Fecha decisión","Valor sanción (si aplica)","resolucion_recurso","Fecha resolución recurso","Tipo decisión recurso","Decisión en firme","Valor en firme (si aplica)","Fecha firmeza","firmeza"],filterValGeneral:["anio","expediente","n_empresa","nit_empresa","n_servicio","r_memorado_devolucion_ig","f_memorando_devolucion_ig","acto_administrativo_archivo_preliminar","f_acto_administrativo_archivo_preliminar","acto_administrativo_acumulacion","f_acto_administrativo_acumulacion","resolucion_decision","f_decision","valor_sancion","resolucion_recurso","f_resolucion_recurso","n_decision_recurso","n_decision_firme","valor_en_firme","f_firmeza","firmeza"],tHeaderEspecifica:["Año","Expediente","Empresa","Servicio","Número cargo","Cargo","Norma infringida","Causal","Subcausal"],filterValEspecifica:["anio","expediente","empresa","servicio","numero_cargo","cargo","norma_infringida","causal","sub_causal"],tableColumnsGeneral:[{label:"Año",prop:"anio",width:"",align:"center",sortable:!0},{label:"Expediente",prop:"expediente",width:"157",align:"center",sortable:!0},{label:"Empresa",prop:"n_empresa",width:"245",align:"center",sortable:!0},{label:"Nit",prop:"nit_empresa",width:"110",align:"center",sortable:!0},{label:"Decisión",prop:"f_decision",width:"135",align:"center",sortable:!0},{label:"Recurso",prop:"f_resolucion_recurso",width:"135",align:"center",sortable:!0},{label:"Decisión firme",prop:"n_decision_firme",width:"135",align:"center",sortable:!0},{label:"Valor en firme",prop:"valor_en_firme",width:"135",align:"center",sortable:!0},{label:"Firmeza",prop:"f_firmeza",width:"135",align:"center",sortable:!0},{label:"Causal",prop:"causas",width:"450",align:"",sortable:!1},{label:"Subcausales",prop:"subcausales",width:"655",align:"",sortable:!1}],tableExpandGeneral:[{label:"Servicio",prop:"n_servicio",width:""},{label:"Fecha devolución IG",prop:"f_memorando_devolucion_ig",width:""},{label:"Memorando devolución IG",prop:"r_memorado_devolucion_ig",width:"",download:!0},{label:"Acto administrativo archivo preliminar",prop:"acto_administrativo_archivo_preliminar",width:"",download:!0},{label:"Fecha acto administrativo archivo preliminar",prop:"f_acto_administrativo_archivo_preliminar",width:""},{label:"Acto administrativo acumulación",prop:"acto_administrativo_acumulacion",width:"",download:!0},{label:"Fecha acto administrativo acumulación",prop:"f_acto_administrativo_acumulacion",width:""},{label:"Resolución decisión",prop:"resolucion_decision",width:"",download:!0},{label:"Tipo decisión",prop:"n_tipo_decision",width:""},{label:"Valor sanción",prop:"valor_sancion",width:""},{label:"Resolución recurso",prop:"resolucion_recurso",width:"",download:!0},{label:"Decisión recurso",prop:"n_decision_recurso",width:""},{label:"Valor en firme",prop:"valor_en_firme",width:""},{label:"Firmeza",prop:"firmeza",width:"",download:!0},{label:"Ver cargos",prop:"cargos",width:""}]},I=a("4e03"),J=a("dac9"),W=[],X=[],U={name:"TablaHistorico",components:{Pagination:N,ModalPdf:A,ModalCargos:B},directives:{waves:g},props:{tablecolumns:{type:Array,default:null},tabledata:{type:Array,default:null},tableexpand:{type:Array,default:null}},data:function(){return{dataCargos:[],dialogCargosVisible:!1,dialogVisible:!1,showReviewer:!1,list:null,listQuery:{page:1,limit:30,anio:[],expediente:void 0,nit:void 0,formatNit:void 0,causal:[],subcausal:[],norma:void 0,normas:void 0,decision_firme:[],empresa:[],servicio:[]},anioOptions:[],selectCausalOptions:W,selectSubCausalOptions:X,total:0,listLoading:!0,showOnlyAdmin:!1,datosProcesos:[],busquedaExpediente:"",filters:{},urlPdf:void 0,x:"",options:[],value:[],listRemote:[],loading:!1,states:q.arrrayRemote,downloadGeneral:!1,downloadEspecifica:!1,filename:"",listGeneral:[],api:"procesosDIEG/api",OptionsDecisionFirme:[],OptionsEmpresa:[],optionsServicios:[]}},computed:Object(o["a"])({},Object(r["b"])(["sidebar","name","roles","usuario","idusuario","dependencia"])),created:function(){this.getHistoricoAnios(),this.toggleSideBar(),this.getList(),this.getCausales(),this.getSubCausales(),this.getDecisionFirme(),this.getServicios(),this.getEmpresas(),this.x=window.matchMedia("(max-width: 800px)")},destroyed:function(){this.sidebar.opened||this.x.matches||this.$store.dispatch("app/toggleSideBar")},methods:{getServicios:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(I["a"])(this.dependencia).then((function(e){t.optionsServicios=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getEmpresas:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listQuery.empresa=[],a=[],2===this.dependencia&&(void 0===t?a.push(4,5,7):void 0!==t&&t.length?a=t:a.push(4,5,7)),e.next=5,Object(J["a"])({servicio:a}).then((function(e){i.OptionsEmpresa=e.items}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getHistoricoAnios:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["c"])().then((function(e){t.anioOptions=e}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),downloadExcelGeneral:function(){var e=this;this.downloadGeneral=!0,Promise.all([a.e("chunk-6e87ca78"),a.e("chunk-5bdd67a2"),a.e("chunk-87968d96")]).then(a.bind(null,"4bf8d")).then((function(t){var a=q.tHeaderGeneral,i=q.filterValGeneral,n=e.listGeneral,o=e.formatJson(i,n);t.export_json_to_excel({header:a,data:o,filename:e.filename}),e.downloadGeneral=!1}))},downloadExcelEspecifica:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["d"])(this.listQuery).then((function(e){Promise.all([a.e("chunk-6e87ca78"),a.e("chunk-5bdd67a2"),a.e("chunk-87968d96")]).then(a.bind(null,"4bf8d")).then((function(a){var i=q.tHeaderEspecifica,n=q.filterValEspecifica,o=e,r=t.formatJson(n,o);a.export_json_to_excel({header:i,data:r,filename:t.filename})}))}));case 2:this.downloadEspecifica=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},verifyNorma:function(e){if(void 0!==e){var t=this.listQuery.norma.toLowerCase().split(";").map((function(e){return e})).join("&");return t}},openModalCargos:function(e){e.sort((function(e,t){return e.numero_cargo>t.numero_cargo?1:e.numero_cargo<t.numero_cargo?-1:0})),this.dataCargos=e,this.dialogCargosVisible=!0},closeModalCargos:function(){this.dialogCargosVisible=!1},toggleSideBar:function(){this.sidebar.opened&&!this.x.matches&&this.$store.dispatch("app/toggleSideBar")},convertToObj:function(e){var t=e.split("-"),a={consecutivo:t[0],idsubcausal:t[1]};return JSON.stringify(a)},selectCausal:function(e){this.getSubCausales(JSON.stringify(e))},closeModalPdf:function(){this.dialogVisible=!1},getCheckDigit:function(e){var t=null,a=null;return t=e.toString(),a=t.length-1,t=0!==a?t.slice(0,a)+"-"+t[a]:"No aplica",t},getCausales:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(z["e"])().then((function(e){t.selectCausalOptions=e}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getDecisionFirme:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["a"])().then((function(e){t.OptionsDecisionFirme=e}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getSubCausales:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(t).then((function(e){a.selectSubCausalOptions=e}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getList:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,Object(j["e"])(this.listQuery).then((function(e){t.list=e.data.items,t.total=e.data.total,t.listLoading=!1,t.listGeneral=e.data.list.map((function(e){for(var a in e)"f_"===a.substr(0,2)&&(e[a]="None"!==e[a]?new Date(p()(e[a]).format("YYYY/MM/DD HH:mm:ss")):""),e[a]=null!==e[a]&&e[a].hasOwnProperty("download")&&null!==e[a]["value"]&&"NO PRESENTÓ RECURSO"!==e[a]["value"]?"http://".concat(window.location.hostname,"/").concat(t.api,"/historico/document?root=").concat(e[a]["value"].split("/")[0],"&year=").concat(e[a]["value"].split("/")[1],"&folder=").concat(e[a]["value"].split("/")[2],"&document=").concat(e[a]["value"].split("/")[3]):null!==e[a]&&null!==e[a]["value"]?e[a]:null;return e}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleFilter:function(){this.listQuery.formatNit=this.verifyNit(this.listQuery.nit),this.listQuery.normas=this.verifyNorma(this.listQuery.norma),this.listQuery.page=1,this.getList()},verifyNit:function(e){if(void 0!==e){var t=[];return t=this.listQuery.nit.split("-"),t=void 0!==t[1]?"".concat(t[0]).concat(t[1]):t[0],t}},handleRemove:function(){this.listQuery={page:1,limit:30,anio:[],expediente:void 0,nit:void 0,formatNit:void 0,causal:[],subcausal:[],norma:void 0,normas:void 0,decision_firme:[],empresa:[],servicio:[]},this.getList()},download:function(e){var t=e.split("/"),a="".concat(this.api,"/historico/document?root=").concat(t[0],"&year=").concat(t[1],"&folder=").concat(t[2],"&document=").concat(t[3]);this.x.matches?window.open(a,"_blank"):(this.dialogVisible=!0,this.urlPdf=a)},convertDate:function(e){return"None"!==e?p()(e.split(" ")[0]).format("DD/MM/YYYY"):"No aplica"},getFilters:function(e){return this.filters[e]},handleSelectionChange:function(e){this.multipleSelection=e},filterHandler:function(e,t,a){var i=a["property"],n=t[i];return"caducidadsancion"===i&&"No registra"!==n&&(n=p()(n).format("DD/MM/YYYY").substring(3,10)),n===e}}},K=U,Z=(a("59ae"),Object(O["a"])(K,s,c,!1,null,null,null)),ee=Z.exports,te={name:"HistoricoGeneral",directives:{elDragDialog:l["a"]},components:{TablaHistorico:ee},data:function(){return{loading:!0,showOnlyAdmin:!1,columns:q.tableColumnsGeneral,expand:q.tableExpandGeneral,data:[]}},computed:Object(o["a"])({},Object(r["b"])(["name","roles","usuario","idusuario","dependencia"])),created:function(){this.initView()},methods:{initView:function(){this.roles.includes("administrador")&&(this.showOnlyAdmin=!0)},clickAgregar:function(){this.$router.push({path:"/upload/historico/info_general"})}}},ae=te,ie=Object(O["a"])(ae,i,n,!1,null,"367c4ab1",null);t["default"]=ie.exports}}]);